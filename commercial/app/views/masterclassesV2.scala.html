@(events: Seq[model.commercial.masterclasses.MasterClass])(implicit request: RequestHeader)

@import conf.Configuration

@defining(("1_0", "2014-05-23", "low")) { case (version, date, relevance) =>
    <div class="commercial--v2 commercial--masterclasses--v2 commercial--tone-masterclasses commercial--low">
        <div class="facia-container__inner--commercial">

            <div class="container__header">
                <div class="container__header__inner">
                    <h3 class="commercial__title">
                        <a href="@AdLink{@Configuration.commercial.masterclasses_url}" data-link-name="merchandising-masterclasses-s-v@{version}_@{date}-@{relevance}-browse-all-masterclasses">
                            <i class="i i-marque-54"></i><i class="i i-guardian-logo-commercial"></i><i class="i i-masterclasses-logo i-commercial-brand"></i>
                            <span class="u-h">The Guardian</span> <span class="u-h">Masterclasses</span>
                        </a>
                    </h3>
                    <p class="commercial__desc">Courses from the Guardian</p>
                    <a class="commercial__cta button button--tertiary button--large" href="@AdLink{@Configuration.commercial.masterclasses_url/masterclasses-calendar}" data-link-name="merchandising-masterclasses-s-v@{version}_@{date}-@{relevance}-browse-all-masterclasses">
                        <i class="i i-arrow-white-right i-right"></i>
                        <span class="commercial__cta__label">View <span class="hide-on-mobile-inline">all</span> courses</span>
                    </a>
                </div>
            </div>

            <div class="container__body">
                <ul class="lineitems">
                    @events.take(4).map { event =>
                        <li class="lineitem">
                            <a class="lineitem__link" href="@AdLink{@event.eventBriteEvent.guardianUrl}" data-link-name="merchandising-masterclasses-s-v@{version}_@{date}-@{relevance}-@event.eventBriteEvent.name">
                                @event.mainPicture.map{ picture =>
                                    @Item300.bestFor(picture).map{ url => <div class="lineitem__image-crop"><img class="lineitem__image" src="@url" alt=""/></div> }
                                }
                                <h4 class="lineitem__title">@event.eventBriteEvent.name</h4>
                                <p class="lineitem__meta">
                                    <span class="lineitem__meta__strong">@event.eventBriteEvent.readableDate &#20; <span class="commercial--tone__highlight">@event.eventBriteEvent.displayPrice</span></span><br/>
                                    @event.eventBriteEvent.venue.description
                                </p>
                            </a>
                            <a class="lineitem__cta button button--primary button--small" href="@AdLink{@event.eventBriteEvent.guardianUrl}" data-link-name="merchandising-masterclasses-s-v@{version}_@{date}-@{relevance}-@event.eventBriteEvent.name">
                                Book now<i class="i i-arrow-black-right i-right"></i>
                            </a>
                        </li>
                    }
                </ul>
            </div>

        </div>
    </div>
}