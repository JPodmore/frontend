@(index: services.IndexPage)(implicit request: RequestHeader, templateDeduping: views.support.TemplateDeduping)

@import model.Collection
@import views.support.RenderClasses
@import com.gu.facia.client.models.CollectionConfig

<div class="l-side-margins l-side-margins--layout-front">
    <div class="@RenderClasses(Map(
            "facia-container" -> true,
            "facia-container--layout-front" -> true,
            "facia-container--sponsored" -> index.page.isSponsored,
            "facia-container--advertisement-feature" -> (index.page.isAdvertisementFeature && !index.page.isSponsored)))"
        data-link-name="Front | @request.path"
        @index.page.sponsor.map { sponsor =>
            data-sponsor="@sponsor"
        }
        role="main">

        @defining(getTagType(index.page)) { tagPage =>
            @fragments.containers.tag(index.page, Collection(index.trails), layout.ContainerLayout(tagPage, model.Collection(index.trails), Some(templateDeduping)), pagination = index.page.pagination, dataId = index.page.id)(request, templateDeduping, CollectionConfig.withDefaults(displayName = Some(index.page.webTitle)))
        }

        @fragments.commercial.commercialComponent()
    </div>
</div>
