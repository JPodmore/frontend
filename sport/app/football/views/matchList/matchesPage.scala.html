@(page: model.Page, matchesList: football.model.MatchesList, filters: Map[String, Seq[CompetitionFilter]])(implicit request: RequestHeader)

@import conf.Switches
@import football.model._

@main(page, "football"){
}{
<div class="l-side-margins l-side-margins--layout-content">
    <article id="article" class="content content--footballfixtures tone-news" itemprop="mainContentOfPage" itemtype="http://schema.org/Article" role="main">
        <div class="gs-container">
            <div class="content__main-column">
                <h2 class="tone-news tone-accent-border hide-on-mobile-if-localnav content__inline-section page-heading--football">
                @matchesList.pageType
                </h2>

                @football.views.html.fragments.leagueSelector(filters, matchesList.pageType, matchesList match {
                    case ml: CompetitionList => ml.competition
                    case _ => None
                })

                <div class="football-leagues football-leagues--list modern-hidden">
                    <ul class="football-leagues-list u-unstyled">
                        @matchesList.competitions.competitions.map{ comp =>
                            <li class="football-leagues__item"><a href="@comp.url/@matchesList.pageType" data-link-name="view @comp.fullName matches">@comp.fullName</option></a></li>
                        }
                    </ul>
                </div>

                <div class="football-matches__container" data-show-more-contains="football-matches">
                    @matchesList.matchesGroupedByDateAndCompetition.map { case (date, competitionMatches) =>
                        <div class="football-matches__day">
                            <div class="date-divider">@date.toString("EEEE d MMMM yyyy")</div>
                            @competitionMatches.map { case (competition, matches) =>
                                <div class="football-table__container">
                                    <div class="u-cf">
                                        @football.views.html.matchList.matchesList(
                                            matches,
                                            competition,
                                            date,
                                            responsiveFont = true,
                                            matchType = matchesList.pageType,
                                            // this is a special case for the world cup, remove it afterwards
                                            heading = Some(competition.fullName, Option(competition.url))
                                        )
                                    </div>
                                </div>
                            }
                        </div>
                    }
                </div>

                @if(matchesList.previousPage.isDefined || matchesList.nextPage.isDefined) {
                    <div class="matches-nav" data-link-name="@matchesList.pageType nav">
                        @matchesList.previousPage.map{url =>
                            <a href="@url" class="collection__show-more tone-background tone-news"
                               data-shows-more=".football-matches__day"
                               data-puts-more-into="football-matches"
                               data-new-url="previous"
                               data-link-name="previous"
                               title="Previous page">
                                <span class="collection__show-more__icon">
                                    <span class="i i-minus-white-mask"></span>
                                    <span class="i i-minus-white"></span>
                                </span>
                                <span class="u-h">Previous</span>
                            </a>
                        }
                        @matchesList.nextPage.map{url =>
                            <a href="@url" class="collection__show-more tone-background tone-news js-show-more"
                               data-shows-more=".football-matches__day"
                               data-puts-more-into="football-matches"
                               data-new-url="next"
                               data-link-name="next"
                               title="Next page">
                                <span class="collection__show-more__icon">
                                    <span class="i i-plus-white-mask"></span>
                                    <span class="i i-plus-white"></span>
                                </span>
                                <span class="u-h">Next</span>
                            </a>
                        }
                    </div>
                }
            </div>

            <div class="content__secondary-column" aria-hidden="true"></div>
        </div>

    </article>

    <div class="facia-container facia-container--layout-content">
        @views.html.fragments.mostPopularPlaceholder("sport")
    </div>
</div>
}
